/*-- scss:defaults --*/

$font-family-sans-serif: 'Source Sans Pro', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
$body-color: #1a1a2e;
$body-bg: #ffffff;
$font-size-base: 1.0625rem; /* 17px */
$line-height-base: 1.7;
$link-color: #2563eb;
$headings-color: #0f0f23;

/*-- scss:rules --*/

/* Distill-inspired CSS Grid layout for article body */
article.quarto-article {
  display: grid;
  grid-template-columns:
    [full-start] 1fr
    [wide-start] minmax(0, 168px)
    [body-start] minmax(min-content, 648px) [body-end]
    minmax(0, 168px) [wide-end]
    1fr [full-end];
  row-gap: 1.5rem;
}

article.quarto-article > * {
  grid-column: body;
}

/* Width variants */
.l-body   { grid-column: body !important; }
.l-wide   { grid-column: wide !important; }
.l-outset { grid-column: wide !important; }
.l-full   { grid-column: full !important; }

.l-margin {
  grid-column: wide-end / full-end !important;
  font-size: 0.85rem;
  color: #64748b;
  line-height: 1.5;
  padding-right: 1rem;
}

/* Figure styling */
figure {
  margin: 0;
  container-type: inline-size;
}

figcaption {
  font-size: 0.875rem;
  color: #64748b;
  text-align: center;
  margin-top: 0.75rem;
  line-height: 1.5;
}

figcaption strong {
  color: #374151;
}

/* D3/Mosaic chart containers */
.d3-chart-container svg {
  display: block;
}

.d3-chart-container .axis text {
  fill: #374151;
  font-size: 11px;
}

.d3-chart-container .axis line,
.d3-chart-container .axis path {
  stroke: #9ca3af;
}

.d3-chart-container .grid line {
  stroke: #e5e7eb;
  stroke-opacity: 0.7;
}

.d3-chart-container .grid path {
  stroke: none;
}

/* Tooltip (D3 force graph, etc.) */
.tooltip {
  position: absolute;
  background: #1f2937;
  color: #f9fafb;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 13px;
  line-height: 1.4;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s;
  z-index: 1000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

/* KaTeX display math */
.katex-display {
  overflow-x: auto;
  overflow-y: hidden;
  padding: 0.5rem 0;
}

/* Mobile: collapse to single column */
@media (max-width: 768px) {
  article.quarto-article {
    grid-template-columns: [full-start wide-start body-start] 1fr [body-end wide-end full-end];
    padding: 1.5rem 1rem;
  }

  .l-margin {
    grid-column: body !important;
    border-left: 3px solid #e2e8f0;
    padding-left: 1rem;
    margin: 0;
  }
}
