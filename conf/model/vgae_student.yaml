# Student VGAE model configuration for on-board deployment
type: vgae_student
name: "Student VGAE for CAN Controller"

# Student VGAE architecture parameters - Target: ~87K parameters (matching teacher_student.yaml)
vgae:
  input_dim: 11                 # Confirmed: CAN ID + 8 bytes + count + position
  node_embedding_dim: 128       # Rich initial embedding (from teacher_student.yaml)
  encoder_dims: [128, 64, 24]   # Proper compression: 128 → 64 → 24
  decoder_dims: [24, 64, 128]   # Proper decompression: 24 → 64 → 128
  latent_dim: 24                # Compact latent space (from teacher_student.yaml)
  output_dim: 11                # Back to original CAN features
  
  # Attention and regularization (from teacher_student.yaml)
  attention_heads: 2            # Lightweight attention
  dropout: 0.1
  batch_norm: true
  activation: "relu"
  
  # Deployment constraints (from teacher_student.yaml)
  target_parameters: 87000      # ~87K params
  memory_budget_kb: 287         # 87KB model + 200KB buffer
  inference_time_ms: 5          # Must be <20ms CAN message period
  
# Lightning-specific optimizations for student
lightning:
  compile_model: false          # Avoid compilation overhead for small model
  precision: 16                 # Mixed precision for efficiency
  gradient_clip_val: 1.0        # Gradient clipping for stability